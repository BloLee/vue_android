{"remainingRequest":"/Users/lee/项目集合/vue/vue_android/vue_19_1120/node_modules/babel-loader/lib/index.js!/Users/lee/项目集合/vue/vue_android/vue_19_1120/src/until/http.js","dependencies":[{"path":"/Users/lee/项目集合/vue/vue_android/vue_19_1120/src/until/http.js","mtime":1574561904071},{"path":"/Users/lee/项目集合/vue/vue_android/vue_19_1120/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lee/项目集合/vue/vue_android/vue_19_1120/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBUb2FzdCBmcm9tICJAbnV0dWkvbnV0dWkvZGlzdC9wYWNrYWdlcy90b2FzdC90b2FzdC5qcyI7CmltcG9ydCAiQG51dHVpL251dHVpL2Rpc3QvcGFja2FnZXMvdG9hc3QvdG9hc3Quc2NzcyI7IC8vIGF4aW9zID0gYXhpb3MuY3JlYXRlKHsKLy8gICBiYXNlVVJMOiAnL2FwaScsIAovLyB9KTsKCmF4aW9zLmJhc2VVUkwgPSAnL3YyJzsKdmFyIGxvYWRpbmcgPSAiIjsKdmFyIF9udW0gPSAwOyAvL+WPkei1t+ivt+axguS5i+WJjSDmi6bmiKoKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgbG9hZGluZyA9IFRvYXN0LmxvYWRpbmcoIuWKoOi9veS4rSIpOwogIF9udW0rKzsgLy/or7fmsYLlj5HpgIHkuYvliY0KICAvLyBjb25zb2xlLmxvZyhjb25maWcpOwoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBfbnVtLS07CiAgLy8gaWYoX251bSA8PSAwICl7CiAgLy8gICBsb2FkaW5nLmhpZGUoKTsKICAvLyB9CiAgLy/lpITnkIbplJnor6/or7fmsYIKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy/mt7vliqDlk43lupTmi6bmiKrlmagKCmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgX251bS0tOwoKICBpZiAoX251bSA8PSAwKSB7CiAgICBsb2FkaW5nLmhpZGUoKTsKICB9IC8vIOWvueWTjeW6lOaVsOaNruWBmueCueS7gOS5iCAKCgogIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gX251bSAtLTsKICAvLyBpZihfbnVtIDw9IDAgKXsKICAvLyAgIGxvYWRpbmcuaGlkZSgpOwogIC8vIH0KICAvLyDlr7nlk43lupTplJnor6/lgZrngrnku4DkuYgKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGZ1bmN0aW9uIGdldCh1cmwsIHBhcmFtcykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBheGlvcy5nZXQodXJsLCB7CiAgICAgIHBhcmFtczogcGFyYW1zCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHBvc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYXhpb3MucG9zdCh1cmwsIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9"},{"version":3,"sources":["/Users/lee/项目集合/vue/vue_android/vue_19_1120/src/until/http.js"],"names":["axios","baseURL","loading","_num","interceptors","request","use","config","Toast","error","Promise","reject","response","hide","status","get","url","params","resolve","then","res","data","catch","err","post"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;sDAEA;AACA;AACA;;AACAA,KAAK,CAACC,OAAN,GAAc,KAAd;AACA,IAAIC,OAAO,GAAG,EAAd;AACA,IAAIC,IAAI,GAAG,CAAX,C,CACA;;AACAH,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAAgC,UAACC,MAAD,EAAY;AACxCL,EAAAA,OAAO,GAAGM,KAAK,CAACN,OAAN,CAAc,KAAd,CAAV;AACAC,EAAAA,IAAI,GAFoC,CAGxC;AACA;;AACA,SAAOI,MAAP;AACD,CANH,EAMI,UAACE,KAAD,EAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAbH,E,CAeA;;AACAT,KAAK,CAACI,YAAN,CAAmBQ,QAAnB,CAA4BN,GAA5B,CACE,UAAAM,QAAQ,EAAI;AACVT,EAAAA,IAAI;;AACJ,MAAGA,IAAI,IAAI,CAAX,EAAc;AACZD,IAAAA,OAAO,CAACW,IAAR;AACD,GAJS,CAKV;;;AACA,MAAID,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,WAAOF,QAAP;AACD;AAEJ,CAXD,EAWG,UAAUH,KAAV,EAAiB;AAClB;AACA;AACA;AACA;AACA;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAlBD;AAoBA,OAAO,SAASM,GAAT,CAAaC,GAAb,EAAiBC,MAAjB,EAAyB;AAC9B,SAAO,IAAIP,OAAJ,CAAY,UAACQ,OAAD,EAASP,MAAT,EAAoB;AACrCX,IAAAA,KAAK,CAACe,GAAN,CAAUC,GAAV,EAAc;AAACC,MAAAA,MAAM,EAACA;AAAR,KAAd,EACCE,IADD,CACO,UAAAC,GAAG,EAAI;AACZF,MAAAA,OAAO,CAACE,GAAG,CAACC,IAAL,CAAP;AACD,KAHD,EAICC,KAJD,CAIQ,UAACC,GAAD,EAAS;AACfZ,MAAAA,MAAM,CAACY,GAAD,CAAN;AACD,KAND;AAOD,GARM,CAAP;AASD;AACD,OAAO,SAASC,IAAT,CAAcR,GAAd,EAAkBC,MAAlB,EAA0B;AAC/B,SAAO,IAAIP,OAAJ,CAAY,UAACQ,OAAD,EAASP,MAAT,EAAoB;AACrCX,IAAAA,KAAK,CAACwB,IAAN,CAAWR,GAAX,EAAeC,MAAf,EACCE,IADD,CACO,UAAAC,GAAG,EAAI;AACZF,MAAAA,OAAO,CAACE,GAAG,CAACC,IAAL,CAAP;AACD,KAHD,EAICC,KAJD,CAIQ,UAACC,GAAD,EAAS;AACfZ,MAAAA,MAAM,CAACY,GAAD,CAAN;AACD,KAND;AAOD,GARM,CAAP;AASD","sourcesContent":["import axios from \"axios\"; \nimport { Toast } from \"@nutui/nutui\";\n// axios = axios.create({\n//   baseURL: '/api', \n// });\naxios.baseURL='/v2';\nlet loading = \"\";\nvar _num = 0;\n//发起请求之前 拦截\naxios.interceptors.request.use( (config) => {  \n    loading = Toast.loading(\"加载中\");\n    _num ++; \n    //请求发送之前\n    // console.log(config);\n    return config;\n  },(error) => { \n    // _num--;\n    // if(_num <= 0 ){\n    //   loading.hide();\n    // }\n    //处理错误请求\n    return Promise.reject(error);\n  }\n)\n//添加响应拦截器\naxios.interceptors.response.use( \n  response => {\n    _num --;\n    if(_num <= 0 ){\n      loading.hide();\n    }\n    // 对响应数据做点什么 \n    if( response.status === 200 ){ \n      return response;\n    }\n    \n}, function (error) {\n  // _num --;\n  // if(_num <= 0 ){\n  //   loading.hide();\n  // }\n  // 对响应错误做点什么\n  return Promise.reject(error);\n});\n\nexport function get(url,params) {\n  return new Promise((resolve,reject) => {\n    axios.get(url,{params:params})\n    .then( res => {\n      resolve(res.data)\n    })\n    .catch( (err) => {\n      reject(err)\n    })\n  })\n}\nexport function post(url,params) {\n  return new Promise((resolve,reject) => {\n    axios.post(url,params)\n    .then( res => {\n      resolve(res.data)\n    })\n    .catch( (err) => {\n      reject(err)\n    })\n  })\n}\n\n"]}]}